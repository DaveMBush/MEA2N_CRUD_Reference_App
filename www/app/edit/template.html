<div class="row">
    <div class="col-lg-offset-3 col-lg-6">
        <form class="form-horizontal" [formGroup]="form" >
            <!-- formControlName is needed so the formBuilder.group() stuff knows what to bind to  -->
            <text-field fieldLabel="Name:" formControlName="name">
                <div *ngIf="form.controls.name.errors" class="alert alert-danger">Name is required</div>
            </text-field>
            <dropdown-field fieldLabel="Sex:"  formControlName="sex" [tableData]="sexArray">
                <div *ngIf="form.controls.sex.errors" class="alert alert-danger">Sex is required</div>
            </dropdown-field>
            <text-field fieldLabel="DOB:"  formControlName="dob">
                <div *ngIf="form.controls.dob.hasError('required')" class="alert alert-danger">DOB is required</div>
                <div *ngIf="form.controls.dob.hasError('invalidDate')" class="alert alert-danger">DOB should be a date</div>
            </text-field>
        </form>
        <form class="form-horizontal" [formGroup]="phoneForm">
            <fieldset><label>Phone Numbers</label>
                <div class="col-lg-10">
                    <text-field fieldLabel="Phone:" formControlName="phone">
                    </text-field>
                </div>
                <div class="col-lg-2">
                    <button (click)="addPhone()" class="btn btn-default pull-right" [disabled]="!phoneForm.controls['phone'].valid"><span class="fa fa-plus"></span> Add</button>
                </div>
                <div class="col-lg-12">
                    <ol>
                        <li *ngFor="let phone of (phones | async)">
                            {{phone.phone}}
                        </li>
                    </ol>

                </div>
            </fieldset>
        </form>
        <div class="col-lg-12">
            <button *ngIf="contact._id.length === 0" (click)="add()" class="btn btn-primary pull-right" [disabled]="!isValid()"><span class="fa fa-plus"></span> Add</button>
            <button *ngIf="contact._id.length > 0" (click)="save()" class="btn btn-primary pull-right" [disabled]="!isValid()"><span class="fa fa fa-floppy-o"></span> Save</button>
            <button (click)="cancel()" class="btn btn-default pull-right"><span class="fa fa fa-ban"></span> Cancel</button>
        </div>
    </div>
</div>